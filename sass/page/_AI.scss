// AI service
*{
    box-sizing: border-box;
}

.st0{
    fill:#7895AC;

    &:hover{
        fill:#7895AC;
    }
}

// .TTT:hover { stroke:red }

#chat_switch{
    display: flex;
    justify-content: center;
    align-items: center;
    width: 82px;
    height: 82px;

    position: fixed;
    right: 30px;
    bottom: 30px;
    top: unset;
    left: unset;
    z-index: 10000000;

    // background: $primaryColor;
    background: url(../images/bg_btn.svg) 50% 50% no-repeat;
    background-size: contain;
    cursor: pointer;

    img{
        width: 46px;
        height: 46px;
    }
}

#chat_wrapper{
    position: fixed;
    right: 30px;
    bottom: 120px;
    background: #fff;
    border-radius: 30px;
    z-index: 10000001;
    overflow: hidden;

    .inner_wrap{
        position: relative;
        height: 100%;
    }

    // 
    .chat_header{
        height: 72px;
        // background: pink;

        display: flex;
        flex-flow: row nowrap;
        justify-content: space-between;
        align-items: center;

        padding-top: 0.35em;
        // box-sizing: border-box;
        box-shadow: 0 -10px 40px 0px #ddd;

        .title{
            display: flex;
            flex-flow: row nowrap;
            align-items: center;

            .logo{
                margin-left: 1em;
            }
            b{
                @include gutter(1em);
                line-height: 1.2;
                span{
                    display: block;
                    color: rgba(53, 66, 70, 0.4);
                    font-size: 90%;
                }
            }
        }
        .btn_grp{
            margin-right: 1em;

            display: flex;
            flex-flow: row nowrap;
            a{
                margin-left: 2px;
            }
        }

        .btn_service_switch{
            display: block;
            width: 36px;
            height: 36px;
        }
        // 服務列表
        .service_list{
            background: #fff;
            position: absolute;
            z-index: 999;
            width: 100%;
            // box-sizing: border-box;
            top: 72px;
            // padding: 0 1em;
            border-radius: 0 0 20px 20px;
            box-shadow: 0px 10px 10px 0px rgba(53, 66, 70, .2);

            // display: none;

            a{
                display: flex;
                padding: 12px 16px 12px 0;
                img{
                    // width: 20px;
                    padding: 0 12px;
                }
                span{}
            }
        }
    }
    // 內容
    .chat_content{
        overflow: scroll;
        // background: beige;
        height: calc(100% - 72px - 68px);

        // 懸浮狀態
        .system_status{
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            padding: 12px 16px;
            font-weight: 700;

            position: absolute;
            max-width: 310px;
            left: calc(50% - 304px/2);
            top: 84px;
            z-index: 999;

            background: #FFFFFF;

            box-shadow: 0px 0px 30px rgba(53, 66, 70, 0.25);
            border-radius: 50px;

            display: none;
        }

        // 左右欄
        .chat_content_inner{
            display: flex;
            padding-top: 1em;
            padding-bottom: 1em;
            flex-flow: column wrap;


            .title, .title_pic, p{
                margin: 0;
                padding: 20px 14.5px;
            }

            p{
                padding: 12px 16px;
            }
            .title{}
            .title_pic{
                text-align: center;
                color: #fff;
                background: url(../images/bg_title.png) 50% 50% no-repeat;
                background-size: cover;
                display: block;
                border-radius: 10px;
            }
            .t_center{ text-align: center; }

            .message_received,
            .message_user{
                flex: 1 1 100%;
                @include gutter();

                // 控制內部物件
                display: flex;
                flex-flow: row wrap;
                margin: 10px 0;
            }

            // 訊息發送時間 style
            .received_time{
                flex: 1 1 100%;
                font-size: $caption;
                line-height: 2;
                color: rgba(53, 66, 70, .4);
            }

            // 客服端
            .message_received{
                // background: #ddd;

                .service_icon{
                    flex: 0 0 30px;
                }
                .service_message{
                    flex: 0 1 auto;
                    max-width: calc(75% - 30px);
                    min-width: 50%;

                    background: rgba(120, 149, 172, 0.1);
                    border-radius: 0px 20px 20px 20px;
                    padding: 12px 16px;
                    margin-left: 8px;
                }
                .service_flow{
                    flex: 0 1 100%;
                    background: pink;
                    margin-left: 38px;
                    .flow_wrap{}

                }

                // 訊息發送時間、反饋
                .received_time, .feedback{ padding-left: 38px; }

                // 連續兩個 客服端對話筐時
                // +.message_received{
                //     margin-top: 1em;
                // }
            }
            // 使用者
            .message_user{
                justify-content: flex-end;
                .user_message{
                    flex: 0 1 auto;
                    max-width: 80%;

                    background: rgba(120, 149, 172, 1);
                    border-radius: 20px 0px 20px 20px;
                    color: #fff;
                    padding: 12px 16px;
                }
                .received_time{ text-align: right;}
            }

            // 反饋
            .feedback{
                display: flex;
                align-items: center;
                margin: 4px 0;

                .btn{
                    width: auto;
                    padding: 12px 16px;
                    margin-left: 4px;
                    border-radius: 30px;
                    background: rgba(120, 149, 172, .1);
                    color: rgba(120, 149, 172, 1);

                    transition: all .3s ease;

                    img{
                        margin-right: 4px;
                        width: 20px;
                        height: 20px;
                    }

                    // &:hover, &:focus { color: #fff; }

                    &:hover{
                        background: rgba(120, 149, 172, 0.3); 

                        .svg{
                            path, circle{ fill: red; }
                        }
                    }
                    &:focus {
                        background: rgba(120, 149, 172, 1);
                        color: #fff;

                        img{}
                    }

                    &.disable{
                        cursor: not-allowed;
                        opacity: .5;
                        &:hover, &:focus{
                            background: rgba(120, 149, 172, .1);
                            color: rgba(120, 149, 172, 1);
                        }
                    }
                }
            }
        }
    }
    // 
    .chat_message_bar{
        display: flex;
        flex-flow: row nowrap;
        // height: 84px;
        height: 68px;
        width: 100%;
        padding-bottom: 1em;
        justify-content: space-between;
        align-items: flex-end;
        box-shadow: 0 10px 40px 0px #ddd;
        @include gutter();

        position: absolute;
        bottom: 0;

        .chat_textarea_wrap{

            border-radius: 36px;
            // min-height: 36px;
            // max-height: 90px;
            // height: 36px;
            max-width: 190px;
            // box-sizing: border-box;
            // background: pink;
            background: #f0f0f0;

            > textarea{
                overflow: auto;
                border: none;
                background-color: transparent;
                resize: none;
                display: block;
                // min-height: 36px;
                // max-height: 90px;
                height: 36px;
                padding: 6px 40px 6px 12px;
                max-width: 190px;
                margin: 0;
                // box-sizing: border-box;
            
                // border-radius: 36px;
                // width: 100%;
                // min-height: 36px;
                // max-height: 90px;
                // box-sizing: border-box;

                // background: rgba(53, 66, 70, 0.02);
                // background: pink;

                &:focus{
                    outline: none;;
                }
            }
            .chat_textarea{}

            position: relative;
            .btn{
                background: none;
                position: absolute;
                right: 6px;
                bottom: 0;
                width: 36px;
                height: 36px;
            }
        }

        // 下方共同定位
        .function_bottom{
            position: absolute;
            width: 100%;
            left: 0;
            background: #fff;
            // padding: 1em;
            padding: 1.5em 1.25em .5em;


            // style
            border-radius: 20px 20px 0 0;
            box-shadow: 0px -10px 10px rgba(53, 66, 70, 0.08);
        }

        // 功能項目
        .function_bottom{
            bottom: 68px;

            .function_innerwrap{
                display: flex;
                flex-flow: row wrap;
                justify-content: center;
                a{
                    flex: 1 1 33.33333%;
                    max-width: 33.33333%;
                    text-align: center;
                    padding: 8px 0;

                    img{
                        background: url(../images/bg_function_btn.svg) 50% 50% no-repeat;
                        background-size: 82px 82px;
                        padding: 21px;
                    }

                    b{
                        display: block;
                        font-weight: inherit;
                        color: rgba(120, 149, 172, 1);
                    }

                    &:hover, &:focus{}
                }
            }

            &.sticky{
                max-height: 516px;
                bottom: 0;
            }
        }

        // 功能項目內容
        .function_bottom{
            // 右上關閉按鈕
            .btn_close{
                position: absolute;
                right: 16px;
            }

            .stuff_title{
                // font-family: 'Noto Sans TC';
                font-style: normal;
                font-weight: 700;
                font-size: 1.25em;
                line-height: 29px;
                color: #354246;
            }

            .slider_wrap{
                .pagination{
                    text-align: center;
                    padding: 10px 0;
                    b{
                        color: $primaryColor;
                        span{
                            display: inline-block;
                            padding-left: 10px;
                        }
                    }
                }
                .slider_item{
                    .foto{
                        .img-container{
                            // @include aspect-ratio(1,1);
                            height: 220px;
                            margin-bottom: .75em;
                            background: transparent;
                            img{}
                        }
                        p{
                            color: #354246;
                        }
                    }
                }

                position: relative;
                .btn_prev, .btn_next{
                    position: absolute;
                    top: calc(220px/2 - 36px/2 + 44px);
                }

                .btn_prev{ left: 1em; }
                .btn_next{ right: 1em; }
            }

            p{
                font-weight: 500;
                font-size: 1em;
                line-height: 24px;
                margin: 0;
                color: rgba(53, 66, 70, 0.4);
            }
        }
    }
}


























